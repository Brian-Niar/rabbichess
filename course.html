<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RabbiChessClub Course</title>
    <link rel="stylesheet" href="css/style.css" />
    <style>
        body {
            background-color: #f5f5f5;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .course-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px 40px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        h1 {
            color: #3498db;
            margin-bottom: 20px;
            font-weight: 700;
            font-size: 2.5rem;
            text-align: center;
        }
        .course-syllabus {
            margin-bottom: 30px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 15px;
        }
        .course-syllabus h2 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        .course-syllabus ul {
            list-style: none;
            padding-left: 0;
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .course-syllabus ul li {
            background-color: #3498db;
            padding: 10px 20px;
            border-radius: 25px;
            transition: background-color 0.3s ease;
        }
        .course-syllabus ul li a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
        }
        .course-syllabus ul li:hover {
            background-color: #2980b9;
        }
        .course-lesson {
            margin-bottom: 40px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            border-radius: 8px;
        }
        .course-lesson:hover {
            background-color: #f0f8ff;
        }
        .course-lesson h2 {
            margin-bottom: 10px;
            color: #2c3e50;
            font-size: 1.6rem;
        }
        .course-lesson .date {
            font-size: 0.9rem;
            color: #999;
            margin-bottom: 15px;
        }
        .lesson-content {
            line-height: 1.6;
            font-size: 1.1rem;
            margin-top: 10px;
        }
        .lesson-content img {
            max-width: 100%;
            border-radius: 8px;
            margin: 15px 0;
        }
        .lesson-content video {
            width: 100%;
            margin-top: 15px;
            border-radius: 8px;
        }
        a.back-link {
            display: inline-block;
            margin-top: 30px;
            color: #3498db;
            text-decoration: none;
            font-weight: 600;
            text-align: center;
            width: 100%;
        }
        a.back-link:hover {
            text-decoration: underline;
        }
        .ing{
            width: 10%;
        }
        @media (max-width: 768px) {
            .course-container {
                padding: 20px;
            }
            h1 {
                font-size: 2rem;
            }
            .course-syllabus ul {
                flex-direction: column;
                gap: 10px;
                align-items: center;
            }
            .course-syllabus ul li {
                width: 100%;
                text-align: center;
                border-radius: 10px;
            }
            .course-lesson h2 {
                font-size: 1.4rem;
            }
        }
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            .course-container {
                padding: 15px;
            }
            h1 {
                font-size: 1.8rem;
            }
            .course-syllabus h2 {
                font-size: 1.5rem;
            }
            .course-lesson h2 {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="images/new-logo.png" alt="RabbiChessClub Logo" style="object-fit: contain; width: 70px; height: 70px;" />
        </div>
        <div class="user-info">
            <button id="logoutBtn" class="btn">Logout</button>
        </div>
    </header>
    <div class="course-container" id="course-section">
        <h1>RabbiChessClub Online Course</h1>
        <div class="course-syllabus">
            <h2>Course Syllabus</h2>
            <ul>
                <li><a href="#lesson1">Introduction to Chess</a></li>
                <li><a href="#lesson2">Mastering the Knight Fork</a></li>
                <li><a href="#lesson3">Pins and Skewers</a></li>
            </ul>
        </div>
        <div class="course-lesson" id="lesson1" tabindex="0" role="button" aria-expanded="false" aria-controls="lesson1-content">
            <h2>Introduction to Chess</h2>
            <div class="date">April 21, 2025</div>
            <p class="summary">Welcome to the RabbiChessClub course! Here you will find articles, tips, and news about chess tactics, strategies, and puzzles to help you improve your game.</p>
            <div class="lesson-content" id="lesson1-content" hidden>
                <p>This course is your go-to resource for all things chess. We cover a wide range of topics from beginner tips to advanced strategies. Stay tuned for regular updates and improve your chess skills with us.</p>
                <img class="ing" src="images/new-logo.png" alt="Welcome to RabbiChessClub" />
                <p>Chess is a game of strategy and skill. Our course aims to provide you with the best resources to enhance your gameplay.</p>
                <img class="ing" src="images/kid-toon.png" alt="Chess Introduction" />
            </div>
        </div>
        <div class="course-lesson" id="lesson2" tabindex="0" role="button" aria-expanded="false" aria-controls="lesson2-content">
            <h2>Mastering the Knight Fork</h2>
            <div class="date">April 21, 2025</div>
            <p class="summary">The knight fork is a powerful tactical motif. Learn how to spot and execute knight forks to gain material advantage in your games.</p>
            <div class="lesson-content" id="lesson2-content" hidden>
                <p>The knight fork tactic allows you to attack two or more pieces simultaneously, often leading to material gain. In this article, we explore common patterns and practice exercises to master this essential tactic.</p>
                <img class="ing" src="images/knight-fork.jpg" alt="Knight Fork" />
                <p>Practice makes perfect. Use puzzles and exercises to sharpen your knight fork skills.</p>
                <video controls style="width:100%; margin-top: 15px; border-radius: 8px;">
                    <source src="/images/videos/knight-fork-demo.mp4" type="video/mp4" />
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
        <div class="course-lesson" id="lesson3" tabindex="0" role="button" aria-expanded="false" aria-controls="lesson3-content">
            <h2>Understanding Pins and Skewers</h2>
            <div class="date">June 10, 2024</div>
            <p class="summary">Discover how pins and skewers can restrict your opponent's pieces and create winning opportunities.</p>
            <div class="lesson-content" id="lesson3-content" hidden>
                <p>Pins and skewers are powerful tactical motifs that can immobilize your opponent's pieces and create decisive advantages. This article covers key concepts and examples to help you recognize and use these tactics effectively.</p>
                <img src="images/blog/pins-skewers.jpg" alt="Pins and Skewers" />
                <p>Learn to spot these tactics in your games to gain a strategic edge.</p>
                <video controls style="width:100%; margin-top: 15px; border-radius: 8px;">
                    <source src="/images/videos/pins-skewers-demo.mp4" type="video/mp4" />
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
        <a href="dashboard.html" class="back-link">&larr; Back to Dashboard</a>
    </div>
    <div id="coursePackagesPopup" style="display:none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); border-radius: 16px; box-shadow: 0 12px 36px rgba(38, 50, 56, 0.3); padding: 40px 50px; max-width: 440px; z-index: 1000; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: white; text-align: center;">
        <h2 style="font-weight: 800; font-size: 2rem; margin-bottom: 25px; text-shadow: 0 2px 6px rgba(0,0,0,0.3);">Course Packages</h2>
        <ul style="list-style: none; padding-left: 0; margin-bottom: 30px;">
            <li style="font-size: 1.2rem; margin-bottom: 15px; font-weight: 600; text-shadow: 0 1px 3px rgba(0,0,0,0.2);">Basic Package - <strong>KES 1000</strong></li>
            <li style="font-size: 1.2rem; margin-bottom: 15px; font-weight: 600; text-shadow: 0 1px 3px rgba(0,0,0,0.2);">Standard Package - <strong>KES 1500</strong></li>
            <li style="font-size: 1.2rem; margin-bottom: 15px; font-weight: 600; text-shadow: 0 1px 3px rgba(0,0,0,0.2);">Premium Package - <strong>KES 4500</strong></li>
        </ul>
        <button id="registerBtn" style="width: 100%; padding: 14px 0; background-color: #ff6f61; color: white; border: none; border-radius: 12px; font-size: 1.2rem; font-weight: 700; cursor: pointer; box-shadow: 0 4px 12px rgba(255,111,97,0.6); transition: background-color 0.3s ease;">Register Now</button>
        <button id="closePopupBtn" style="margin-top: 20px; padding: 10px 20px; background-color: rgba(255,255,255,0.3); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 600; transition: background-color 0.3s ease;">Close</button>
    </div>
+    <div id="registrationFormContainer" style="display:none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; border-radius: 16px; box-shadow: 0 12px 36px rgba(38, 50, 56, 0.3); padding: 30px 40px; max-width: 440px; z-index: 1001; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: #2c3e50;">
+        <h2 style="font-weight: 800; font-size: 2rem; margin-bottom: 25px;">Register for a Course</h2>
+        <form id="registrationForm" style="display: flex; flex-direction: column; gap: 15px;">
+            <label for="name">Full Name</label>
+            <input type="text" id="name" name="name" required style="padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-size: 1rem;" />
+            <label for="email">Email Address</label>
+            <input type="email" id="email" name="email" required style="padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-size: 1rem;" />
+            <label for="package">Select Package</label>
+            <select id="package" name="package" required style="padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-size: 1rem;">
+                <option value="" disabled selected>Select a package</option>
+                <option value="basic">Basic Package - KES 1000</option>
+                <option value="standard">Standard Package - KES 1500</option>
+                <option value="premium">Premium Package - KES 4500</option>
+            </select>
+            <button type="submit" style="padding: 12px 0; background-color: #27ae60; color: white; border: none; border-radius: 8px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: background-color 0.3s ease;">Submit</button>
+            <button type="button" id="cancelRegistrationBtn" style="padding: 10px 0; background-color: #e74c3c; color: white; border: none; border-radius: 8px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: background-color 0.3s ease;">Cancel</button>
+        </form>
+    </div>
    <div id="popupOverlay" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 999;"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('user'));
            if (!user) {
                window.location.href = 'index.html';
                return;
            }
            // Remove username display as per previous change
            // document.getElementById('usernameDisplay').textContent = user.username;
            document.getElementById('logoutBtn').addEventListener('click', () => {
                localStorage.removeItem('user');
                window.location.href = 'index.html';
            });

            // Show first blog post only once per user using localStorage
            const firstPost = document.getElementById('post1');
            const firstPostShown = localStorage.getItem('firstPostShown');
            if (firstPostShown) {
                // Hide the first post container
                if (firstPost) {
                    firstPost.style.display = 'none';
                }
            } else {
                // Mark as shown
                localStorage.setItem('firstPostShown', 'true');
                if (firstPost) {
                    firstPost.style.display = 'block';
                }
            }

            // Add interactivity to blog posts to toggle full article display
            const blogPosts = document.querySelectorAll('.blog-post');
            blogPosts.forEach(post => {
                post.addEventListener('click', () => {
                    const expanded = post.getAttribute('aria-expanded') === 'true';
                    post.setAttribute('aria-expanded', !expanded);
                    const contentId = post.getAttribute('aria-controls');
                    const content = document.getElementById(contentId);
                    if (content) {
                        if (expanded) {
                            content.hidden = true;
                        } else {
                            content.hidden = false;
                        }
                    }
                    // Pause all other videos except the one in the clicked post
                    blogPosts.forEach(otherPost => {
                        if (otherPost !== post) {
                            const otherContentId = otherPost.getAttribute('aria-controls');
                            const otherContent = document.getElementById(otherContentId);
                            if (otherContent) {
                                const video = otherContent.querySelector('video');
                                if (video) {
                                    video.pause();
                                    video.currentTime = 0;
                                }
                            }
                        }
                    });
                });
                post.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        post.click();
                    }
                });
            });

            // Show course packages popup after 15 seconds
            const popup = document.getElementById('coursePackagesPopup');
            const overlay = document.getElementById('popupOverlay');
            const closeBtn = document.getElementById('closePopupBtn');

            function showPopup() {
                popup.style.display = 'block';
                overlay.style.display = 'block';
            }

            function hidePopup() {
                popup.style.display = 'none';
                overlay.style.display = 'none';
            }

            setTimeout(showPopup, 15000);

            closeBtn.addEventListener('click', hidePopup);
            overlay.addEventListener('click', hidePopup);

            // Handle register button click to show registration form and hide other containers
            const registerBtn = document.getElementById('registerBtn');
            const registrationFormContainer = document.getElementById('registrationFormContainer');
            const coursePackagesPopup = document.getElementById('coursePackagesPopup');
            const courseSection = document.getElementById('course-section');
            const popupOverlay = document.getElementById('popupOverlay');
            const cancelRegistrationBtn = document.getElementById('cancelRegistrationBtn');

            registerBtn.addEventListener('click', () => {
                coursePackagesPopup.style.display = 'none';
                courseSection.style.display = 'none';
                registrationFormContainer.style.display = 'block';
                popupOverlay.style.display = 'block';
            });

            cancelRegistrationBtn.addEventListener('click', () => {
                registrationFormContainer.style.display = 'none';
                popupOverlay.style.display = 'none';
                courseSection.style.display = 'block';
                // Optionally show the course packages popup again or keep hidden
            });

            // Optional: handle form submission
            const registrationForm = document.getElementById('registrationForm');
            registrationForm.addEventListener('submit', (e) => {
                e.preventDefault();
                // Here you can add form submission logic, e.g., send data to server
                alert('Thank you for registering, ' + registrationForm.name.value + '!');
                registrationForm.reset();
                registrationFormContainer.style.display = 'none';
                popupOverlay.style.display = 'none';
                courseSection.style.display = 'block';
            });
        });
    </script>
</body>
</html>
