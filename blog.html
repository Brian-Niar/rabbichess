<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RabbiChessClub Blog</title>
    <link rel="stylesheet" href="css/style.css" />
    <style>
        body {
            background-color: #f5f5f5;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .logo i {
            font-size: 2rem;
            color: #2c3e50;
        }
        .logo h1 {
            font-size: 1.8rem;
            color: #2c3e50;
        }
        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .blog-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px 40px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        h1 {
            color: #3498db;
            margin-bottom: 20px;
        }
        .blog-post {
            margin-bottom: 40px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 20px;
        }
        .blog-post:last-child {
            border-bottom: none;
        }
        .blog-post h2 {
            margin-bottom: 10px;
            color: #2c3e50;
        }
        .blog-post .date {
            font-size: 0.9rem;
            color: #999;
            margin-bottom: 15px;
        }
        .blog-post p {
            line-height: 1.6;
            font-size: 1.1rem;
        }
        a.back-link {
            display: inline-block;
            margin-top: 30px;
            color: #3498db;
            text-decoration: none;
            font-weight: 600;
        }
        a.back-link:hover {
            text-decoration: underline;
        }
        .ing{
            width: 10%;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="images/new-logo.png" alt="RabbiChessClub Logo" style="object-fit: contain; width: 70px; height: 70px;" />
            
        </div>
        
        <div class="user-info">
            <button id="logoutBtn" class="btn">Logout</button>
        </div>
    </header>
    <div class="blog-container" id="blog-section">
        <h1>RabbiChessClub Blog</h1>
        <div class="blog-post" tabindex="0" role="button" aria-expanded="false" aria-controls="post1-content" id="post1">
            <h2>Welcome to RabbiChessClub</h2>
            <div class="date">April 21, 2025</div>
            
            <p class="summary">Welcome to the RabbiChessClub blog! Here you will find articles, tips, and news about chess tactics, strategies, and puzzles to help you improve your game.</p>
            <p class="full-article" id="post1-content" hidden>
                <p>This blog is your go-to resource for all things chess. We cover a wide range of topics from beginner tips to advanced strategies. Stay tuned for regular updates and improve your chess skills with us.</p>
                <img class="ing" src="images/new-logo.png" alt="Welcome to RabbiChessClub" />
                <p>Chess is a game of strategy and skill. Our blog aims to provide you with the best resources to enhance your gameplay.</p>
                <img class="ing" src="images/kid-toon.png" alt="Chess Introduction" />
            </p>
        </div>
        <div class="blog-post" tabindex="0" role="button" aria-expanded="false" aria-controls="post2-content" id="post2">
            <h2>Mastering the Knight Fork</h2>
            <div class="date">April 21, 2025</div>
            
            <p class="summary">The knight fork is a powerful tactical motif. Learn how to spot and execute knight forks to gain material advantage in your games.</p>
            <p class="full-article" id="post2-content" hidden>
                <p>The knight fork tactic allows you to attack two or more pieces simultaneously, often leading to material gain. In this article, we explore common patterns and practice exercises to master this essential tactic.</p>
                <img class="ing" src="images/knight-fork.jpg" alt="Knight Fork" />
                <p>Practice makes perfect. Use puzzles and exercises to sharpen your knight fork skills.</p>
                <video controls style="width:100%; margin-top: 15px; border-radius: 8px;">
                    <source src="/images/videos/knight-fork-demo.mp4" type="video/mp4" />
                    Your browser does not support the video tag.
                </video>
            </p>
        </div>
        <div class="blog-post" tabindex="0" role="button" aria-expanded="false" aria-controls="post3-content" id="post3">
            <h2>Understanding Pins and Skewers</h2>
            <div class="date">April 21, 2025</div>
            
            <p class="summary">Discover how pins and skewers can restrict your opponent's pieces and create winning opportunities.</p>
            <p class="full-article" id="post3-content" hidden>
                <p>Pins and skewers are powerful tactical motifs that can immobilize your opponent's pieces and create decisive advantages. This article covers key concepts and examples to help you recognize and use these tactics effectively.</p>
                <img class="ing" src="images/kid-toon1.png" alt="Pins and Skewers" />
                <p>Learn to spot these tactics in your games to gain a strategic edge.</p>
                <video controls style="width:100%; margin-top: 15px; border-radius: 8px;">
                    <source src="/images/videos/pins-skewers-demo.mp4" type="video/mp4" />
                    Your browser does not support the video tag.
                </video>
            </p>
        </div>
        <a href="dashboard.html" class="back-link">&larr; Back to Dashboard</a>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('user'));
            if (!user) {
                window.location.href = 'index.html';
                return;
            }
            // Remove username display as per previous change
            // document.getElementById('usernameDisplay').textContent = user.username;
            document.getElementById('logoutBtn').addEventListener('click', () => {
                localStorage.removeItem('user');
                window.location.href = 'index.html';
            });

            // Show first blog post only once per user using localStorage
            const firstPost = document.getElementById('post1');
            const firstPostShown = localStorage.getItem('firstPostShown');
            if (firstPostShown) {
                // Hide the first post container
                if (firstPost) {
                    firstPost.style.display = 'none';
                }
            } else {
                // Mark as shown
                localStorage.setItem('firstPostShown', 'true');
                if (firstPost) {
                    firstPost.style.display = 'block';
                }
            }

            // Add interactivity to blog posts to toggle full article display
            const blogPosts = document.querySelectorAll('.blog-post');
            blogPosts.forEach(post => {
                post.addEventListener('click', () => {
                    const expanded = post.getAttribute('aria-expanded') === 'true';
                    post.setAttribute('aria-expanded', !expanded);
                    const contentId = post.getAttribute('aria-controls');
                    const content = document.getElementById(contentId);
                    if (content) {
                        if (expanded) {
                            content.hidden = true;
                        } else {
                            content.hidden = false;
                        }
                    }
                    // Pause all other videos except the one in the clicked post
                    blogPosts.forEach(otherPost => {
                        if (otherPost !== post) {
                            const otherContentId = otherPost.getAttribute('aria-controls');
                            const otherContent = document.getElementById(otherContentId);
                            if (otherContent) {
                                const video = otherContent.querySelector('video');
                                if (video) {
                                    video.pause();
                                    video.currentTime = 0;
                                }
                            }
                        }
                    });
                });
                post.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        post.click();
                    }
                });
            });
        });

        
    </script>
</body>
</html>
